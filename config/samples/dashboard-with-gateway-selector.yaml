apiVersion: homer.rajsingh.info/v1alpha1
kind: Dashboard
metadata:
  name: production-dashboard
  labels:
    app: homer-dashboard
    environment: production
spec:
  replicas: 1
  
  # Advanced filtering configuration
  
  # Gateway selector to only include HTTPRoutes from production Gateways
  gatewaySelector:
    matchLabels:
      environment: "production"
    matchExpressions:
    - key: "app.kubernetes.io/name"
      operator: In
      values: ["istio-gateway", "envoy-gateway"]
  
  # HTTPRoute selector to filter by HTTPRoute labels
  httpRouteSelector:
    matchLabels:
      environment: "production"
      tier: "frontend"
  
  # Ingress selector to filter traditional Ingress resources
  ingressSelector:
    matchLabels:
      environment: "production"
      
  # Domain filters to only show services from specific domains
  domainFilters:
    - "prod.example.com"
    - "api.example.com"
  
  homerConfig:
    title: "Production Services Dashboard"
    subtitle: "Production Environment Service Directory"
    logo: "https://raw.githubusercontent.com/rajsinghtech/homer-operator/main/homer/Homer-Operator.png"
    header: true
    footer: '<p>Production Environment | <strong>Homer-Operator</strong></p>'
    
    defaults:
      layout: "columns"
      colorTheme: "auto"
    
    # Static services will be supplemented by HTTPRoutes matching the Gateway selector
    services:
    - name: "Core Infrastructure"
      icon: "fas fa-server"
      items:
      - name: "Kubernetes Dashboard"
        logo: "https://raw.githubusercontent.com/kubernetes/kubernetes/master/logo/logo.png"
        subtitle: "Production Cluster Management"
        tag: "k8s"
        tagstyle: "is-danger"
        url: "https://k8s-dashboard.prod.example.com"
        target: "_blank"
  
  configMap:
    name: "production-homer-config"
    key: "config.yml"