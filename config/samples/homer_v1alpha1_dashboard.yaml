---
apiVersion: homer.rajsingh.info/v1alpha1
kind: Dashboard
metadata:
  name: dashboard-sample
  namespace: public
  labels:
    app: homer-dashboard
    tier: frontend
spec:
  replicas: 2
  homerConfig:
    title: "Raj Singh's"
    subtitle: "Infrastructure Dashboard"
    logo: "https://raw.githubusercontent.com/rajsinghtech/homer-operator/main/homer/Homer-Operator.png"
    header: true
    footer: '<p>Powered by <strong>Homer-Operator</strong> | <a href="https://github.com/rajsinghtech/homer-operator">GitHub</a></p>'
    colors:
      light:
        highlight-primary: "#d2b48c"
        highlight-secondary: "#c8a974"
        highlight-hover: "#b8956e"
        background: "#fefcf9"
        card-background: "#f6f0e8"
        text: "#3b2f2f"
        text-header: "#3b2f2f"
        text-title: "#2f2626"
        text-subtitle: "#6e5c5c"
        card-shadow: rgba(120, 100, 80, 0.1)
        link: "#a86c3f"            # Warm medium brown
        link-hover: "#6b3e1d"      # Darker brown for hover contrast

      dark:
        highlight-primary: "#d2b48c"
        highlight-secondary: "#a98e69"
        highlight-hover: "#917555"
        background: "#1b1a17"
        card-background: "#2a2824"
        text: "#e9e1d8"
        text-header: "#e9e1d8"
        text-title: "#f5f0e6"
        text-subtitle: "#cbb9a8"
        card-shadow: none
        link: "#e2b185"            # Light warm tan (for contrast in dark mode)
        link-hover: "#f5cda3"      # Brighter hover tan
    
    # Default layout settings
    defaults:
      layout: "columns"
      colorTheme: "auto"
    
    # Enhanced links with targets
    links:
    - name: "Homer-Operator GitHub"
      icon: "fab fa-github"
      url: "https://github.com/rajsinghtech/homer-operator"
      target: "_blank"
    - name: "Homer Documentation"
      icon: "fas fa-book"
      url: "https://github.com/bastienwirtz/homer"
      target: "_blank"
    - name: "Kubernetes Dashboard"
      icon: "fas fa-dharmachakra"
      url: "https://kubernetes.io/docs/tasks/access-application-cluster/web-ui-dashboard/"
      target: "_blank"
    
    # Comprehensive service catalog
    services:
    - name: "Infrastructure Services"
      icon: "fas fa-server"
      items:
      - name: "Tailscale"
        logo: "https://raw.githubusercontent.com/tailscale/tailscale/refs/heads/main/client/web/src/assets/icons/tailscale-icon.svg"
        subtitle: "Private Mesh Network"
        tag: "network"
        tagstyle: "is-info"
        url: "https://login.tailscale.com/admin/machines"
    
    - name: "Development Tools"
      icon: "fas fa-code"
      items:
      - name: "Kubernetes Manifests"
        logo: "https://raw.githubusercontent.com/kubernetes/community/master/icons/png/resources/labeled/deploy-128.png"
        subtitle: "GitOps Repository"
        tag: "git"
        tagstyle: "is-primary"
        url: "https://github.com/rajsinghtech/kubernetes-manifests"
        target: "_blank"
      - name: "ArgoCD"
        logo: "https://raw.githubusercontent.com/argoproj/argo-cd/master/ui/src/assets/images/argo.png"
        subtitle: "GitOps Controller"
        tag: "git"
        tagstyle: "is-primary"
        url: "https://argocd.rajsingh.info"
        target: "_blank"
  
  # Custom assets and PWA configuration
  # assets:
  #   configMapRef:
  #     name: "dashboard-assets"
  #   icons:
  #     favicon: "favicon.ico"
  #     appleTouchIcon: "apple-touch-icon.png"
  #     pwaIcon192: "pwa-192x192.png"
  #     pwaIcon512: "pwa-512x512.png"
  #   pwa:
  #     enabled: true
  #     name: "Homer Dashboard"
  #     shortName: "Homer"
  #     description: "Homer Dashboard powered by Homer-Operator"
  #     themeColor: "#3367d6"
  #     backgroundColor: "#ffffff"
  #     display: "standalone"
  #     startUrl: "/"
  
  # Optional: Secret references for smart cards
  # secrets:
  #   apiKey:
  #     name: "dashboard-secrets"
  #     key: "api-key"
  
  # Optional selectors and filters for controlling which resources are included
  
  # Gateway selector for filtering HTTPRoutes by Gateway labels (optional)
  # If not specified, all HTTPRoutes matching annotation criteria are included
  gatewaySelector:
    matchLabels:
      gateway: public
  #   matchExpressions:
  #   - key: "app.kubernetes.io/name"
  #     operator: In
  #     values: ["istio", "envoy-gateway", "nginx-gateway"]

  # HTTPRoute selector for filtering HTTPRoutes by their own labels (optional)
  # httpRouteSelector:
  #   matchLabels:
  #     environment: "production"
  #     team: "platform"
  #   matchExpressions:
  #   - key: "app.kubernetes.io/component"
  #     operator: In
  #     values: ["api", "frontend", "service"]

  # Ingress selector for filtering Ingresses by labels (optional)
  ingressSelector:
    matchLabels:
      noexist: "true"

  # Domain filters for filtering by hostname/domain (optional)
  # Only resources with hostnames matching these domains will be included
  # Supports exact match (example.com) and subdomain match (*.example.com)
  domainFilters:
    - "rajsingh.info"
  #   - "mycompany.com"
  #   - "internal.local"

  # ConfigMap for Homer configuration
  # configMap:
  #   name: "dashboard-sample-homer-config"
  #   key: "config.yml" 
